angular.module("subjectController",["service"]).controller("subjectCtrl",["$scope","$timeout","$state","$modal","ctx","SubjectRest","ArticleRest",function(c,h,g,f,b,e,a){c.pageNo=1;c.index=0;e.customGET("list").then(function(j){c.subjects=j.obj;var i=j.obj[0].id;c.subjectId=i;d(i,c.pageNo)});c.getArticles=function(j,i){c.subjectId=j;c.pageNo=1;c.index=i;d(j,c.pageNo)};function d(k,i){var j={subjectId:k,pageNo:i};a.customGET("getSubjectArticles",j).then(function(l){c.last=l.obj.last;if(c.pageNo>1){c.articles=c.articles.concat(l.obj.content)}else{c.articles=l.obj.content}})}c.loadMore=function(){c.pageNo=c.pageNo+1;d(c.subjectId,c.pageNo)};c.goToDetail=function(i){g.go("articleDetail",{articleId:i})}}]);